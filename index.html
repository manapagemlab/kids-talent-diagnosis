<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>子どもの才能診断</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Arial', sans-serif; background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%); min-height: 100vh; padding: 20px; }
        .container { max-width: 600px; margin: 0 auto; background: white; border-radius: 20px; padding: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .header { text-align: center; margin-bottom: 30px; }
        .header h1 { color: #e91e63; font-size: 28px; margin-bottom: 10px; }
        .age-selector { margin-bottom: 30px; text-align: center; }
        .age-selector label { display: block; margin-bottom: 10px; font-size: 18px; font-weight: bold; color: #333; }
        .age-buttons { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; }
        .age-btn { padding: 12px 20px; border: 2px solid #e91e63; background: white; color: #e91e63; border-radius: 25px; font-size: 16px; cursor: pointer; transition: all 0.3s; }
        .age-btn.active, .age-btn:hover { background: #e91e63; color: white; }
        .question { display: none; margin-bottom: 30px; }
        .question.active { display: block; }
        .question h3 { color: #e91e63; font-size: 20px; margin-bottom: 20px; text-align: center; }
        .options { display: flex; flex-direction: column; gap: 15px; }
        .option { padding: 15px; border: 2px solid #ddd; border-radius: 15px; cursor: pointer; transition: all 0.3s; background: white; }
        .option:hover { border-color: #e91e63; background: #fce4ec; }
        .option.selected { border-color: #e91e63; background: #e91e63; color: white; }
        .navigation { display: flex; justify-content: space-between; margin-top: 30px; }
        .nav-btn { padding: 15px 30px; border: none; border-radius: 25px; font-size: 16px; cursor: pointer; transition: all 0.3s; }
        .prev-btn { background: #ddd; color: #333; }
        .next-btn { background: #e91e63; color: white; }
        .nav-btn:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
        .nav-btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }
        .results { display: none; text-align: center; }
        .results.active { display: block; }
        .results h2 { color: #e91e63; font-size: 24px; margin-bottom: 20px; }
        .talent-bars { margin: 30px 0; }
        .talent-bar { margin-bottom: 20px; }
        .talent-label { display: flex; justify-content: space-between; margin-bottom: 5px; font-weight: bold; }
        .bar-container { height: 20px; background: #f0f0f0; border-radius: 10px; overflow: hidden; }
        .bar-fill { height: 100%; background: linear-gradient(90deg, #e91e63, #ff6b6b); transition: width 0.8s ease; }
        .advice { background: #f8f9fa; padding: 20px; border-radius: 15px; margin-top: 20px; text-align: left; }
        .restart-btn { background: #4CAF50; color: white; border: none; padding: 15px 30px; border-radius: 25px; font-size: 16px; cursor: pointer; margin-top: 20px; }
        @media (max-width: 480px) { .container { padding: 20px; } .header h1 { font-size: 24px; } .age-buttons { flex-direction: column; } .age-btn { width: 100%; } }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🌟 子どもの才能診断 🌟</h1>
            <p>お子さんの隠れた才能を見つけましょう！</p>
        </div>

        <div class="age-selector" id="ageSelector">
            <label>お子さんの年齢を選択してください：</label>
            <div class="age-buttons">
                <button class="age-btn" data-age="3-5">3-5歳</button>
                <button class="age-btn" data-age="6-8">6-8歳</button>
                <button class="age-btn" data-age="9-12">9-12歳</button>
            </div>
        </div>

        <div class="question" id="question1">
            <h3>🎨 普段、どんな活動を一番楽しんでいますか？</h3>
            <div class="options">
                <div class="option" data-talents='{"art":3,"social":1}'>絵を描いたり、工作をしたりする</div>
                <div class="option" data-talents='{"physical":3,"social":1}'>外で走り回ったり、スポーツをしたりする</div>
                <div class="option" data-talents='{"logic":3,"explore":1}'>パズルやブロックで何かを作る</div>
                <div class="option" data-talents='{"social":3,"language":2}'>友達と話したり、一緒に遊んだりする</div>
                <div class="option" data-talents='{"explore":3,"logic":1}'>新しい場所を探検したり、虫や植物を観察したりする</div>
            </div>
        </div>

        <div class="question" id="question2">
            <h3>📚 集中して取り組むのが得意なのは？</h3>
            <div class="options">
                <div class="option" data-talents='{"language":3,"logic":1}'>本を読むこと</div>
                <div class="option" data-talents='{"art":3,"logic":1}'>絵や作品を作ること</div>
                <div class="option" data-talents='{"logic":3,"explore":1}'>数字や計算、パズル</div>
                <div class="option" data-talents='{"physical":3,"logic":1}'>体を動かすゲームやスポーツ</div>
                <div class="option" data-talents='{"explore":3,"art":1}'>自分で何かを調べたり実験したりすること</div>
            </div>
        </div>

        <div class="question" id="question3">
            <h3>🗣️ 人とのコミュニケーションについて</h3>
            <div class="options">
                <div class="option" data-talents='{"social":3,"language":2}'>誰とでもすぐに仲良くなれる</div>
                <div class="option" data-talents='{"language":3,"social":1}'>話すのが好きで、上手に説明できる</div>
                <div class="option" data-talents='{"social":2,"logic":2}'>みんなをまとめるのが得意</div>
                <div class="option" data-talents='{"explore":2,"logic":2}'>一人で集中する時間も大切にする</div>
                <div class="option" data-talents='{"art":2,"language":1}'>自分の気持ちを表現するのが好き</div>
            </div>
        </div>

        <div class="question" id="question4">
            <h3>🤔 問題に直面したときの反応は？</h3>
            <div class="options">
                <div class="option" data-talents='{"logic":3,"explore":1}'>じっくり考えて解決策を見つける</div>
                <div class="option" data-talents='{"social":3,"language":1}'>誰かに相談して一緒に考える</div>
                <div class="option" data-talents='{"physical":3,"logic":1}'>とりあえずやってみる</div>
                <div class="option" data-talents='{"art":3,"explore":1}'>創造的な方法で解決しようとする</div>
                <div class="option" data-talents='{"explore":3,"logic":2}'>いろいろ調べて情報を集める</div>
            </div>
        </div>

        <div class="question" id="question5">
            <h3>✨ 新しいことに対する姿勢は？</h3>
            <div class="options">
                <div class="option" data-talents='{"explore":3,"physical":1}'>すぐに挑戦してみたい</div>
                <div class="option" data-talents='{"logic":3,"language":1}'>まず詳しく知ってから始めたい</div>
                <div class="option" data-talents='{"social":3,"language":1}'>友達と一緒にやってみたい</div>
                <div class="option" data-talents='{"art":3,"explore":1}'>自分なりのやり方を見つけたい</div>
                <div class="option" data-talents='{"physical":2,"social":2}'>楽しそうなら何でもやってみる</div>
            </div>
        </div>

        <div class="question" id="question6">
            <h3>🎯 一番嬉しいと感じる瞬間は？</h3>
            <div class="options">
                <div class="option" data-talents='{"art":3,"language":1}'>自分の作品を褒められたとき</div>
                <div class="option" data-talents='{"physical":3,"social":1}'>スポーツで上手くできたとき</div>
                <div class="option" data-talents='{"logic":3,"explore":1}'>難しい問題が解けたとき</div>
                <div class="option" data-talents='{"social":3,"language":2}'>友達が喜んでくれたとき</div>
                <div class="option" data-talents='{"explore":3,"logic":1}'>新しい発見をしたとき</div>
            </div>
        </div>

        <div class="navigation">
            <button class="nav-btn prev-btn" id="prevBtn" onclick="previousQuestion()">前へ</button>
            <button class="nav-btn next-btn" id="nextBtn" onclick="nextQuestion()">次へ</button>
        </div>

        <div class="results" id="results">
            <h2>🎉 診断結果 🎉</h2>
            <div class="talent-bars" id="talentBars"></div>
            <div class="advice" id="advice"></div>
            <button class="restart-btn" onclick="restartQuiz()">もう一度診断する</button>
        </div>
    </div>

    <script>
        let currentQuestion = 0;
        let selectedAge = '';
        let scores = { art: 0, physical: 0, logic: 0, social: 0, explore: 0, language: 0 };
        let answers = [];

        const talentNames = {
            art: '🎨 芸術・創作',
            physical: '🏃 運動・身体',
            logic: '🧮 論理・数学',
            social: '👥 社交・協調',
            explore: '🔍 探究・発見',
            language: '📖 言語・表現'
        };

        document.querySelectorAll('.age-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.age-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                selectedAge = this.dataset.age;
                document.getElementById('nextBtn').disabled = false;
                document.getElementById('nextBtn').textContent = '診断開始';
            });
        });

        document.querySelectorAll('.option').forEach(option => {
            option.addEventListener('click', function() {
                const questionDiv = this.closest('.question');
                questionDiv.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
                this.classList.add('selected');
                document.getElementById('nextBtn').disabled = false;
                
                const questionIndex = parseInt(questionDiv.id.replace('question', '')) - 1;
                answers[questionIndex] = JSON.parse(this.dataset.talents);
            });
        });

        function nextQuestion() {
            if (currentQuestion === 0 && !selectedAge) {
                alert('年齢を選択してください');
                return;
            }

            const currentQuestionDiv = document.querySelector('.question.active') || document.getElementById('ageSelector');
            
            if (currentQuestion === 0) {
                document.getElementById('ageSelector').style.display = 'none';
                document.getElementById('question1').classList.add('active');
                currentQuestion = 1;
                document.getElementById('prevBtn').disabled = false;
                document.getElementById('nextBtn').textContent = '次へ';
                document.getElementById('nextBtn').disabled = true;
            } else if (currentQuestion < 6) {
                if (!answers[currentQuestion - 1]) {
                    alert('選択肢を選んでください');
                    return;
                }
                
                document.getElementById(`question${currentQuestion}`).classList.remove('active');
                currentQuestion++;
                document.getElementById(`question${currentQuestion}`).classList.add('active');
                document.getElementById('nextBtn').disabled = true;
                
                if (currentQuestion === 6) {
                    document.getElementById('nextBtn').textContent = '結果を見る';
                }
            } else {
                if (!answers[currentQuestion - 1]) {
                    alert('選択肢を選んでください');
                    return;
                }
                showResults();
            }
        }

        function previousQuestion() {
            if (currentQuestion > 1) {
                document.getElementById(`question${currentQuestion}`).classList.remove('active');
                currentQuestion--;
                document.getElementById(`question${currentQuestion}`).classList.add('active');
                document.getElementById('nextBtn').disabled = false;
                document.getElementById('nextBtn').textContent = currentQuestion === 6 ? '結果を見る' : '次へ';
            } else if (currentQuestion === 1) {
                document.getElementById('question1').classList.remove('active');
                document.getElementById('ageSelector').style.display = 'block';
                currentQuestion = 0;
                document.getElementById('prevBtn').disabled = true;
                document.getElementById('nextBtn').textContent = '診断開始';
                document.getElementById('nextBtn').disabled = !selectedAge;
            }
        }

        function showResults() {
            // スコア計算
            scores = { art: 0, physical: 0, logic: 0, social: 0, explore: 0, language: 0 };
            answers.forEach(answer => {
                Object.keys(answer).forEach(talent => {
                    scores[talent] += answer[talent];
                });
            });

            // 結果表示の準備
            document.querySelector('.question.active').classList.remove('active');
            document.querySelector('.navigation').style.display = 'none';
            document.getElementById('results').classList.add('active');

            // 才能バー表示
            const talentBarsDiv = document.getElementById('talentBars');
            const maxScore = Math.max(...Object.values(scores));
            
            talentBarsDiv.innerHTML = '';
            Object.entries(scores).forEach(([talent, score]) => {
                const percentage = maxScore > 0 ? (score / maxScore) * 100 : 0;
                talentBarsDiv.innerHTML += `
                    <div class="talent-bar">
                        <div class="talent-label">
                            <span>${talentNames[talent]}</span>
                            <span>${score}点</span>
                        </div>
                        <div class="bar-container">
                            <div class="bar-fill" style="width: ${percentage}%"></div>
                        </div>
                    </div>
                `;
            });

            // アドバイス表示
            const topTalents = Object.entries(scores)
                .sort(([,a], [,b]) => b - a)
                .slice(0, 2)
                .map(([talent,]) => talent);
            
            showAdvice(topTalents);
        }

        function showAdvice(topTalents) {
            const adviceDiv = document.getElementById('advice');
            let advice = `<h3>🌟 ${selectedAge}のお子さんへのアドバイス</h3>`;
            
            const adviceTexts = {
                art: {
                    title: "🎨 芸術・創作の才能",
                    advice: "絵画、音楽、工作などの創作活動を積極的に取り入れましょう。美術館や音楽会への参加もおすすめです。",
                    activities: "お絵描き、粘土遊び、楽器演奏、手芸"
                },
                physical: {
                    title: "🏃 運動・身体の才能", 
                    advice: "様々なスポーツや身体活動を体験させてあげましょう。チームスポーツも個人競技も試してみてください。",
                    activities: "水泳、サッカー、体操、ダンス、武道"
                },
                logic: {
                    title: "🧮 論理・数学の才能",
                    advice: "パズルや数学的な遊びを通じて論理的思考を育てましょう。プログラミングにも挑戦してみてください。",
                    activities: "積み木、パズル、将棋、プログラミング"
                },
                social: {
                    title: "👥 社交・協調の才能",
                    advice: "グループ活動や team work を重視した活動に参加させてあげましょう。リーダーシップの機会も大切です。",
                    activities: "合唱、演劇、ボランティア、クラブ活動"
                },
                explore: {
                    title: "🔍 探究・発見の才能",
                    advice: "自然観察や科学実験など、好奇心を満たす活動を用意してあげましょう。図書館や博物館の活用もおすすめです。",
                    activities: "昆虫採集、星座観察、実験キット、読書"
                },
                language: {
                    title: "📖 言語・表現の才能",
                    advice: "読書や作文、お話作りなど言語活動を豊富に。外国語学習にも早めに取り組んでみましょう。",
                    activities: "読書、日記、詩作、外国語学習"
                }
            };

            topTalents.forEach((talent, index) => {
                const info = adviceTexts[talent];
                advice += `
                    <div style="margin-bottom: 20px;">
                        <h4>${info.title}</h4>
                        <p style="margin: 10px 0;">${info.advice}</p>
                        <p><strong>おすすめ活動:</strong> ${info.activities}</p>
                    </div>
                `;
            });

            advice += `
                <div style="margin-top: 20px; padding: 15px; background: #e3f2fd; border-radius: 10px;">
                    <h4>💡 保護者の方へ</h4>
                    <p>お子さんの才能は一つではありません。様々な経験を通じて、新しい可能性を見つけてあげてください。何より、お子さんが楽しんで取り組めることを大切にしましょう。</p>
                </div>
            `;

            adviceDiv.innerHTML = advice;
        }

        function restartQuiz() {
            currentQuestion = 0;
            selectedAge = '';
            scores = { art: 0, physical: 0, logic: 0, social: 0, explore: 0, language: 0 };
            answers = [];
            
            document.querySelectorAll('.question').forEach(q => q.classList.remove('active'));
            document.getElementById('results').classList.remove('active');
            document.querySelectorAll('.age-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
            
            document.getElementById('ageSelector').style.display = 'block';
            document.querySelector('.navigation').style.display = 'flex';
            document.getElementById('prevBtn').disabled = true;
            document.getElementById('nextBtn').disabled = true;
            document.getElementById('nextBtn').textContent = '診断開始';
        }

        // 初期状態設定
        document.getElementById('prevBtn').disabled = true;
        document.getElementById('nextBtn').disabled = true;
    </script>
</body>
</html>
